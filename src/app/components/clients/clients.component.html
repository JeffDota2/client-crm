<app-navbar></app-navbar>
<div class="we-clients">
    <div>
        <form [formGroup]="createClientForm" (submit)="createClient()">
            <h2>Agregar Cliente</h2>
            <div class="form-group">
                <input class="form-control" type="text" formControlName="name" placeholder="Nombre">
                <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert danger">
                    <li>llene el campo por favor</li>
                </div>
            </div>
            <div class="form-group">
                <input class="form-control" type="email" formControlName="email" placeholder="Correo">
                <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert danger">
                    <li>Campo Obligatorio</li>
                </div>
            </div>
            <div class="form-group">
                <input class="form-control" type="text" formControlName="phone" placeholder="Telefono">
                <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="alert danger">
                    <li>Campo Obligatorio</li>
                </div>
            </div>
            <div class="form-group">
                <textarea class="form-control" list="text" formControlName="address" placeholder="Dirección"></textarea>
                <div *ngIf="address.invalid && (address.dirty || address.touched)" class="alert danger">
                    <li>Campo Obligatorio</li>
                </div>
            </div>
            <div class="form-group">
                <input class="btn btn-success" type="submit" value="Crear">
                <input class="btn btn-danger" type="reset" alt="X" value="Cancelar">
            </div>
        </form>
    </div>
    
    <table class="table table-striped table-warning">
        <thead>
            <tr>
                <th scope="col">Nombre</th>
                <th scope="col">Correo</th>
                <th scope="col">Telefono</th>
                <th scope="col">dirección</th>
            </tr>
        </thead>
        <tbody >
            <tr *ngFor="let client of dataClients">
                <td>{{client.name}}</td>
                <td>{{client.email}}</td>
                <td>{{client.phone}}</td>
                <td>{{client.address}}</td>
                <input type="submit" value="Eliminar" (click)="openModal('deleted-client-modal', client)">
            </tr>
        </tbody>
    </table>
</div>

<!-- modal para eliminar -->
<div id="deleted-client-modal" class="pop-dialog">
    <!-- Modal content -->
    <div class="pop-dialog-content">
      <span class="pop-dialog-close" (click)="closeModal('deleted-client-modal')">&times;</span>
      <form>
        <h2>¿Estas seguro de eliminar este cliente?</h2>
        <div>
          <input type="submit" value="Eliminar" (click)="deleteClient()">
          <input type="reset" value="Cancelar" (click)="closeModal('deleted-client-modal')">
        </div>
      </form>
    </div>
  </div>